var usbs=[],deleteUsb=function(e){var s=usbs.find((function(s){return s.id===e}));s&&Swal.fire({title:"Are you sure?",text:"This will delete the USB device. This can't be undone!",type:"warning",animation:!1,showCancelButton:!0,confirmButtonText:"Delete "+escapeHtml(s.name),confirmButtonColor:"#428bca",reverseButtons:!0,allowOutsideClick:!1,preConfirm:function(){return new Promise((function(s,t){api.usbId.delete(e).success((function(e){s()})).error((function(e){t(e.responseJSON.message)}))}))}}).then((function(e){e.value&&Swal.fire("USB Deleted!","This USB device has been deleted!","success"),$('button:contains("OK")').on("click",(function(){location.reload()}))}))};function load(){$("#usbTable").hide(),$("#emptyMessage").hide(),$("#loading").show(),api.usbs.get().success((function(e){if($("#loading").hide(),e.length>0){usbs=e,$("#emptyMessage").hide(),$("#usbTable").show();var s=$("#usbTable").DataTable({destroy:!0,columnDefs:[{orderable:!1,targets:"no-sort"}]});s.clear(),usbRows=[],$.each(usbs,(function(e,s){usbRows.push([escapeHtml(s.name),moment(s.registered_date).format("MMMM Do YYYY, h:mm:ss a"),"<div class='pull-right'>                        </button>                        <button class='btn btn-danger' onclick='deleteUsb("+s.id+")'>                        <i class='fa fa-trash-o'></i>                        </button></div>"])})),s.rows.add(usbRows).draw()}else $("#emptyMessage").show()})).error((function(){errorFlash("Error fetching USB devices")}))}$(document).ready((function(){load()}));